{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _regeneratorRuntime from\"/Users/dmuino/shop_time/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/dmuino/shop_time/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React from'react';import moment from'moment';import{add_wishlist_item,get_wishlist_items,get_wishlist_item_total}from'../actions/wishlist';var productDetailCard=function productDetailCard(_ref){var product=_ref.product,add_item=_ref.add_item,get_items=_ref.get_items,get_total=_ref.get_total,get_item_total=_ref.get_item_total,setRedirect=_ref.setRedirect,isAuthenticated=_ref.isAuthenticated,setLoginRedirect=_ref.setLoginRedirect,add_wishlist_item=_ref.add_wishlist_item,get_wishlist_items=_ref.get_wishlist_items,get_wishlist_item_total=_ref.get_wishlist_item_total;var addToCart=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(product&&product!==null&&product!==undefined&&product.quantity>0)){_context.next=10;break;}_context.next=3;return add_item(product);case 3:_context.next=5;return get_items();case 5:_context.next=7;return get_total();case 7:_context.next=9;return get_item_total();case 9:setRedirect(true);case 10:case\"end\":return _context.stop();}}},_callee);}));return function addToCart(){return _ref2.apply(this,arguments);};}();var addToWishlist=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(isAuthenticated){_context2.next=4;break;}setLoginRedirect(true);_context2.next=17;break;case 4:if(!(product&&product!==null&&product!==undefined)){_context2.next=17;break;}_context2.next=7;return add_wishlist_item(product.id);case 7:_context2.next=9;return get_wishlist_items();case 9:_context2.next=11;return get_wishlist_item_total();case 11:_context2.next=13;return get_items();case 13:_context2.next=15;return get_total();case 15:_context2.next=17;return get_item_total();case 17:case\"end\":return _context2.stop();}}},_callee2);}));return function addToWishlist(){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"row pt-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-3\",children:/*#__PURE__*/_jsx(\"div\",{style:{width:'80%',marginLeft:'10%',overflow:'hidden'},children:/*#__PURE__*/_jsx(\"img\",{className:\"mt-5\",style:{width:'100%'},src:product&&product!==null&&product!==undefined&&product.photo,alt:\"product details\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-6\",children:[/*#__PURE__*/_jsx(\"h1\",{children:product&&product!==null&&product!==undefined&&product.name}),/*#__PURE__*/_jsx(\"p\",{className:\"lead mt-3\",children:product&&product!==null&&product!==undefined&&product.description})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",style:{padding:'10px 20px'},children:[/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:'24px',color:'#b12704'},children:[\"$\",product&&product!==null&&product!==undefined&&product.price]}),/*#__PURE__*/_jsx(\"p\",{children:product&&product!==null&&product!==undefined&&product.quantity>0?/*#__PURE__*/_jsx(\"span\",{className:\"text-success\",children:\"In Stock\"}):/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:\"Out of Stock\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:addToCart,className:\"btn btn-warning mb-2\",children:\"Add to Cart\"}),/*#__PURE__*/_jsx(\"button\",{onClick:addToWishlist,className:\"btn btn-outline-primary mb-2\",children:\"Add to Wishlist\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"card-text text-muted\",children:[\"Added \",product&&product!==null&&product!==undefined&&moment(product.date_created).fromNow()]})]})})]});};export default productDetailCard;","map":{"version":3,"sources":["/Users/dmuino/shop_time/src/components/ProductDetailCard.js"],"names":["React","moment","add_wishlist_item","get_wishlist_items","get_wishlist_item_total","productDetailCard","product","add_item","get_items","get_total","get_item_total","setRedirect","isAuthenticated","setLoginRedirect","addToCart","undefined","quantity","addToWishlist","id","width","marginLeft","overflow","photo","name","description","padding","fontSize","color","price","date_created","fromNow"],"mappings":"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","sourcesContent":["import React from 'react';\nimport moment from 'moment';\nimport { add_wishlist_item, get_wishlist_items, get_wishlist_item_total } from '../actions/wishlist';\n\nconst productDetailCard = ({ \n    product,\n    add_item,\n    get_items,\n    get_total,\n    get_item_total,\n    setRedirect,\n    isAuthenticated,\n    setLoginRedirect,\n    add_wishlist_item,\n    get_wishlist_items,\n    get_wishlist_item_total,\n}) => {\n    const addToCart = async () => {\n        if (product && product !== null && product !== undefined && product.quantity > 0) {\n            await add_item(product);\n            await get_items();\n            await get_total();\n            await get_item_total();\n            setRedirect(true);\n        }\n    };\n\n    const addToWishlist = async () => {\n        if (!isAuthenticated) {\n            setLoginRedirect(true);\n        } else if (\n            product &&\n            product !== null &&\n            product !== undefined\n        ) {\n            await add_wishlist_item(product.id);\n            await get_wishlist_items();\n            await get_wishlist_item_total();\n            await get_items();\n            await get_total();\n            await get_item_total();\n        }\n    };\n\n    return (\n        <div className='row pt-5'>\n            <div className='col-3'>\n                <div style={{ width: '80%', marginLeft: '10%', overflow: 'hidden' }}>\n                    <img\n                        className='mt-5'\n                        style={{ width: '100%' }}\n                        src={\n                            product && \n                            product !== null && \n                            product !== undefined && \n                            product.photo\n                        }\n                        alt='product details'\n                    />\n                </div>\n            </div>\n            <div className='col-6'>\n                <h1>\n                    {\n                        product && \n                        product !== null && \n                        product !== undefined &&\n                        product.name\n                    }\n                </h1>\n                <p className='lead mt-3'>\n                    {\n                        product && \n                        product !== null && \n                        product !== undefined && \n                        product.description\n                    }\n                </p>\n            </div>\n            <div className='col-3'>\n                <div className='card' style={{ padding: '10px 20px' }}>\n                    <p style={{ fontSize: '24px', color: '#b12704' }}>\n                        ${\n                            product && \n                            product !== null &&\n                            product !== undefined &&\n                            product.price\n                        }\n                    </p>\n                    <p>\n                        {\n                            product && \n                            product !== null &&\n                            product !== undefined && \n                            product.quantity > 0 ? (\n                                <span className='text-success'>\n                                    In Stock\n                                </span>\n                            ) : (\n                                <span className='text-danger'>\n                                    Out of Stock\n                                </span>\n                            )\n                        }\n                    </p>\n                    <button \n                        onClick={addToCart}\n                        className='btn btn-warning mb-2'\n                    >\n                        Add to Cart\n                    </button>\n                    <button \n                        onClick={addToWishlist}\n                        className='btn btn-outline-primary mb-2'\n                    >\n                        Add to Wishlist\n                    </button>\n                    <p className='card-text text-muted'>\n                        Added {\n                            product && \n                            product !== null &&\n                            product !== undefined && (\n                                moment(product.date_created).fromNow()\n                            )\n                        }\n                    </p>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default productDetailCard;\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import{jsx as _jsx}from\"react/jsx-runtime\";import _regeneratorRuntime from\"/Users/dmuino/shop_time/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/dmuino/shop_time/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/dmuino/shop_time/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Redirect,useLocation}from'react-router-dom';import{connect}from'react-redux';import{google_authenticate}from'../actions/auth';import queryString from'query-string';import Loader from'react-loader-spinner';var Google=function Google(_ref){var google_authenticate=_ref.google_authenticate;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),redirect=_useState2[0],setRediect=_useState2[1];var location=useLocation();useEffect(function(){var values=queryString.parse(location.search);var state=values.state?values.state:null;var code=values.code?values.code:null;if(state&&code){var fetchData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return google_authenticate(state,code);case 2:setRediect(true);case 3:case\"end\":return _context.stop();}}},_callee);}));return function fetchData(){return _ref2.apply(this,arguments);};}();fetchData();}},[location]);if(redirect)return/*#__PURE__*/_jsx(Redirect,{to:\"/dashboard\"});return/*#__PURE__*/_jsx(\"div\",{className:\"mt-5 d-flex justify-content-center align-items-center\",children:/*#__PURE__*/_jsx(Loader,{type:\"Oval\",color:\"#424242\",height:50,width:50})});};export default connect(null,{google_authenticate:google_authenticate})(Google);","map":{"version":3,"sources":["/Users/dmuino/shop_time/src/containers/Google.js"],"names":["React","useState","useEffect","Redirect","useLocation","connect","google_authenticate","queryString","Loader","Google","redirect","setRediect","location","values","parse","search","state","code","fetchData"],"mappings":"kdAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,QAAT,CAAmBC,WAAnB,KAAsC,kBAAtC,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,mBAAT,KAAoC,iBAApC,CACA,MAAOC,CAAAA,WAAP,KAAwB,cAAxB,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CAEA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,MAA6B,IAA1BH,CAAAA,mBAA0B,MAA1BA,mBAA0B,eACTL,QAAQ,CAAC,KAAD,CADC,wCACjCS,QADiC,eACvBC,UADuB,eAExC,GAAIC,CAAAA,QAAQ,CAAGR,WAAW,EAA1B,CAEAF,SAAS,CAAC,UAAM,CACZ,GAAMW,CAAAA,MAAM,CAAGN,WAAW,CAACO,KAAZ,CAAkBF,QAAQ,CAACG,MAA3B,CAAf,CACA,GAAMC,CAAAA,KAAK,CAAGH,MAAM,CAACG,KAAP,CAAeH,MAAM,CAACG,KAAtB,CAA8B,IAA5C,CACA,GAAMC,CAAAA,IAAI,CAAGJ,MAAM,CAACI,IAAP,CAAcJ,MAAM,CAACI,IAArB,CAA4B,IAAzC,CAEA,GAAID,KAAK,EAAIC,IAAb,CAAmB,CACf,GAAMC,CAAAA,SAAS,2FAAG,yJACRZ,CAAAA,mBAAmB,CAACU,KAAD,CAAQC,IAAR,CADX,QAEdN,UAAU,CAAC,IAAD,CAAV,CAFc,sDAAH,kBAATO,CAAAA,SAAS,2CAAf,CAKAA,SAAS,GACZ,CACJ,CAbQ,CAaN,CAACN,QAAD,CAbM,CAAT,CAeA,GAAIF,QAAJ,CACI,mBAAO,KAAC,QAAD,EAAU,EAAE,CAAC,YAAb,EAAP,CACJ,mBACI,YAAK,SAAS,CAAC,uDAAf,uBACI,KAAC,MAAD,EACI,IAAI,CAAC,MADT,CAEI,KAAK,CAAC,SAFV,CAGI,MAAM,CAAE,EAHZ,CAII,KAAK,CAAE,EAJX,EADJ,EADJ,CAUH,CA/BD,CAiCA,cAAeL,CAAAA,OAAO,CAAC,IAAD,CAAO,CAAEC,mBAAmB,CAAnBA,mBAAF,CAAP,CAAP,CAAuCG,MAAvC,CAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Redirect, useLocation } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { google_authenticate } from '../actions/auth';\nimport queryString from 'query-string';\nimport Loader from 'react-loader-spinner';\n\nconst Google = ({ google_authenticate }) => {\n    const [redirect, setRediect] = useState(false);\n    let location = useLocation();\n\n    useEffect(() => {\n        const values = queryString.parse(location.search);\n        const state = values.state ? values.state : null;\n        const code = values.code ? values.code : null;\n\n        if (state && code) {\n            const fetchData = async () => {\n                await google_authenticate(state, code);\n                setRediect(true);\n            };\n\n            fetchData();\n        }\n    }, [location]);\n\n    if (redirect)\n        return <Redirect to='/dashboard' />;\n    return (\n        <div className='mt-5 d-flex justify-content-center align-items-center'>\n            <Loader\n                type='Oval'\n                color='#424242'\n                height={50}\n                width={50}\n            />\n        </div>\n    );\n};\n\nexport default connect(null, { google_authenticate })(Google);\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _regeneratorRuntime from\"/Users/dmuino/shop_time/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/dmuino/shop_time/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from'axios';import{GET_WISHLIST_ITEMS_SUCCESS,GET_WISHLIST_ITEMS_FAIL,ADD_WISHLIST_ITEM_SUCCESS,ADD_WISHLIST_ITEM_FAIL,GET_WISHLIST_ITEM_TOTAL_SUCCESS,GET_WISHLIST_ITEM_TOTAL_FAIL,REMOVE_WISHLIST_ITEM_SUCCESS,REMOVE_WISHLIST_ITEM_FAIL,CLEAR_WISHLIST}from'./types';export var get_wishlist_items=function get_wishlist_items(){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var config,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!localStorage.getItem('access')){_context.next=12;break;}config={headers:{'Authorization':\"JWT \".concat(localStorage.getItem('access')),'Accept':'application/json'}};_context.prev=2;_context.next=5;return axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"/api/wishlist/wishlist-items\"),config);case 5:res=_context.sent;if(res.status===200){dispatch({type:GET_WISHLIST_ITEMS_SUCCESS,payload:res.data});}else{dispatch({type:GET_WISHLIST_ITEMS_FAIL});}_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](2);dispatch({type:GET_WISHLIST_ITEMS_FAIL});case 12:case\"end\":return _context.stop();}}},_callee,null,[[2,9]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export var add_wishlist_item=function add_wishlist_item(product_id){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var config,body,res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!localStorage.getItem('access')){_context2.next=13;break;}config={headers:{'Authorization':\"JWT \".concat(localStorage.getItem('access')),'Content-Type':'application/json','Accept':'application/json'}};body=JSON.stringify({product_id:product_id});_context2.prev=3;_context2.next=6;return axios.post(\"\".concat(process.env.REACT_APP_API_URL,\"/api/wishlist/add-item\"),body,config);case 6:res=_context2.sent;if(res.status===201){dispatch({type:ADD_WISHLIST_ITEM_SUCCESS,payload:res.data});}else{dispatch({type:ADD_WISHLIST_ITEM_FAIL});}_context2.next=13;break;case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](3);dispatch({type:ADD_WISHLIST_ITEM_FAIL});case 13:case\"end\":return _context2.stop();}}},_callee2,null,[[3,10]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var get_wishlist_item_total=function get_wishlist_item_total(){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){var config,res;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!localStorage.getItem('access')){_context3.next=12;break;}config={headers:{'Authorization':\"JWT \".concat(localStorage.getItem('access')),'Accept':'application/json'}};_context3.prev=2;_context3.next=5;return axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"/api/wishlist/get-item-total\"),config);case 5:res=_context3.sent;if(res.status===200){dispatch({type:GET_WISHLIST_ITEM_TOTAL_SUCCESS,payload:res.data});}else{dispatch({type:GET_WISHLIST_ITEM_TOTAL_FAIL});}_context3.next=12;break;case 9:_context3.prev=9;_context3.t0=_context3[\"catch\"](2);dispatch({type:GET_WISHLIST_ITEM_TOTAL_FAIL});case 12:;case 13:case\"end\":return _context3.stop();}}},_callee3,null,[[2,9]]);}));return function(_x3){return _ref3.apply(this,arguments);};}();};export var remove_wishlist_item=function remove_wishlist_item(product_id){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch){var body,config,res;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:if(!localStorage.getItem('access')){_context4.next=13;break;}body=JSON.stringify({product_id:product_id});config={headers:{'Authorization':\"JWT \".concat(localStorage.getItem('access')),'Content-Type':'application/json','Accept':'application/json'},data:body};_context4.prev=3;_context4.next=6;return axios.delete(\"\".concat(process.env.REACT_APP_API_URL,\"/api/wishlist/remove-item\"),config);case 6:res=_context4.sent;if(res.status===200){dispatch({type:REMOVE_WISHLIST_ITEM_SUCCESS,payload:res.data});}else{dispatch({type:REMOVE_WISHLIST_ITEM_FAIL});}_context4.next=13;break;case 10:_context4.prev=10;_context4.t0=_context4[\"catch\"](3);dispatch({type:REMOVE_WISHLIST_ITEM_FAIL});case 13:case\"end\":return _context4.stop();}}},_callee4,null,[[3,10]]);}));return function(_x4){return _ref4.apply(this,arguments);};}();};export var clear_wishlist=function clear_wishlist(){return function(dispatch){dispatch({type:CLEAR_WISHLIST});};};","map":{"version":3,"sources":["/Users/dmuino/shop_time/src/actions/wishlist.js"],"names":["axios","GET_WISHLIST_ITEMS_SUCCESS","GET_WISHLIST_ITEMS_FAIL","ADD_WISHLIST_ITEM_SUCCESS","ADD_WISHLIST_ITEM_FAIL","GET_WISHLIST_ITEM_TOTAL_SUCCESS","GET_WISHLIST_ITEM_TOTAL_FAIL","REMOVE_WISHLIST_ITEM_SUCCESS","REMOVE_WISHLIST_ITEM_FAIL","CLEAR_WISHLIST","get_wishlist_items","dispatch","localStorage","getItem","config","headers","get","process","env","REACT_APP_API_URL","res","status","type","payload","data","add_wishlist_item","product_id","body","JSON","stringify","post","get_wishlist_item_total","remove_wishlist_item","delete","clear_wishlist"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport {\n    GET_WISHLIST_ITEMS_SUCCESS,\n    GET_WISHLIST_ITEMS_FAIL,\n    ADD_WISHLIST_ITEM_SUCCESS,\n    ADD_WISHLIST_ITEM_FAIL,\n    GET_WISHLIST_ITEM_TOTAL_SUCCESS,\n    GET_WISHLIST_ITEM_TOTAL_FAIL,\n    REMOVE_WISHLIST_ITEM_SUCCESS,\n    REMOVE_WISHLIST_ITEM_FAIL,\n    CLEAR_WISHLIST,\n} from './types';\n\nexport const get_wishlist_items = () => async dispatch => {\n    if (localStorage.getItem('access')) {\n        const config = {\n            headers: {\n                'Authorization': `JWT ${localStorage.getItem('access')}`,\n                'Accept': 'application/json'\n            }\n        };\n\n        try {\n            const res = await axios.get(`${process.env.REACT_APP_API_URL}/api/wishlist/wishlist-items`, config);\n\n            if (res.status === 200) {\n                dispatch({\n                    type: GET_WISHLIST_ITEMS_SUCCESS,\n                    payload: res.data\n                });\n            } else {\n                dispatch({\n                    type: GET_WISHLIST_ITEMS_FAIL\n                });\n            }\n        } catch(err) {\n            dispatch({\n                type: GET_WISHLIST_ITEMS_FAIL\n            });\n        }\n    }\n};\n\nexport const add_wishlist_item = product_id => async dispatch => {\n    if (localStorage.getItem('access')) {\n        const config = {\n            headers: {\n                'Authorization': `JWT ${localStorage.getItem('access')}`,\n                'Content-Type': 'application/json',\n                'Accept': 'application/json',\n            }\n        };\n\n        const body = JSON.stringify({\n            product_id\n        });\n\n        try {\n            const res = await axios.post(`${process.env.REACT_APP_API_URL}/api/wishlist/add-item`, body, config);\n\n            if (res.status === 201) {\n                dispatch({\n                    type: ADD_WISHLIST_ITEM_SUCCESS,\n                    payload: res.data\n                });\n            } else {\n                dispatch({\n                    type: ADD_WISHLIST_ITEM_FAIL\n                });\n            }\n        } catch(err) {\n            dispatch({\n                type: ADD_WISHLIST_ITEM_FAIL\n            });\n        }\n    }\n};\n\nexport const get_wishlist_item_total = () => async dispatch => {\n    if (localStorage.getItem('access')) {\n        const config = {\n            headers: {\n                'Authorization': `JWT ${localStorage.getItem('access')}`,\n                'Accept': 'application/json',\n            }\n        };\n\n        try {\n            const res = await axios.get(`${process.env.REACT_APP_API_URL}/api/wishlist/get-item-total`, config);\n\n            if (res.status === 200) {\n                dispatch({\n                    type: GET_WISHLIST_ITEM_TOTAL_SUCCESS,\n                    payload: res.data\n                });\n            } else {\n                dispatch({\n                    type: GET_WISHLIST_ITEM_TOTAL_FAIL\n                });\n            }\n        } catch(err) {\n            dispatch({\n                type: GET_WISHLIST_ITEM_TOTAL_FAIL\n            });\n        }\n    };\n};\n\nexport const remove_wishlist_item = product_id => async dispatch => {\n    if (localStorage.getItem('access')) {\n        const body = JSON.stringify({\n            product_id\n        });\n\n        const config = {\n            headers: {\n                'Authorization': `JWT ${localStorage.getItem('access')}`,\n                'Content-Type': 'application/json',\n                'Accept': 'application/json',\n            },\n            data: body\n        };\n\n        try {\n            const res = await axios.delete(`${process.env.REACT_APP_API_URL}/api/wishlist/remove-item`, config);\n\n            if (res.status === 200) {\n                dispatch({\n                    type: REMOVE_WISHLIST_ITEM_SUCCESS,\n                    payload: res.data\n                });\n            } else {\n                dispatch({\n                    type: REMOVE_WISHLIST_ITEM_FAIL\n                });\n            }\n        } catch(err) {\n            dispatch({\n                type: REMOVE_WISHLIST_ITEM_FAIL\n            });\n        }\n    }\n};\n\nexport const clear_wishlist = () => dispatch => {\n    dispatch({\n        type: CLEAR_WISHLIST\n    });\n};\n"]},"metadata":{},"sourceType":"module"}
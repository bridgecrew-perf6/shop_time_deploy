{"ast":null,"code":"import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import _slicedToArray from\"/Users/dmuino/shop_time/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{Fragment,useState,useEffect}from'react';import{Link}from'react-router-dom';import{connect}from'react-redux';import{setAlert}from'../actions/alert';import{remove_item,update_item,get_items,get_item_total,get_total}from'../actions/cart';import CartItem from'../components/CartItem';var Cart=function Cart(_ref){var isAuthenticated=_ref.isAuthenticated,items=_ref.items,amount=_ref.amount,compare_amount=_ref.compare_amount,total_items=_ref.total_items,remove_item=_ref.remove_item,update_item=_ref.update_item,get_items=_ref.get_items,get_item_total=_ref.get_item_total,get_total=_ref.get_total;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),render=_useState2[0],setRender=_useState2[1];useEffect(function(){window.scrollTo(0,0);get_items();get_item_total();get_total();},[render]);var showItems=function showItems(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-muted mt-3\",children:[\"Your cart has \",total_items,\" item(s)\"]}),/*#__PURE__*/_jsx(\"hr\",{}),items&&items!==null&&items!==undefined&&items.length!==0&&items.map(function(item,index){var count=item.count;return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(CartItem,{item:item,count:count,update_item:update_item,remove_item:remove_item,setAlert:setAlert,render:render,setRender:setRender})},index);})]});};var checkoutButton=function checkoutButton(){if(total_items<1){return/*#__PURE__*/_jsx(Link,{className:\"btn btn-warning mt-5\",style:{width:'100%'},to:\"/shop\",children:\"Shop for some Items!\"});}else if(!isAuthenticated){return/*#__PURE__*/_jsx(Link,{className:\"btn btn-warning mt-5\",style:{width:'100%'},to:\"/login\",children:\"Login to proceed\"});}else{return/*#__PURE__*/_jsx(Link,{className:\"btn btn-success mt-5\",style:{width:'100%'},to:\"/checkout\",children:\"Proceed to Checkout\"});}};return/*#__PURE__*/_jsx(\"div\",{className:\"container mt-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-8\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Your Items:\"}),showItems()]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Your total:\"}),/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:'24px'},children:[compare_amount!==0?/*#__PURE__*/_jsxs(\"span\",{className:\"mr-3 text-muted\",style:{textDecoration:'line-through'},children:[\"$\",compare_amount.toFixed(2)]}):/*#__PURE__*/_jsx(Fragment,{}),amount!==0?/*#__PURE__*/_jsxs(\"span\",{style:{color:'#b12704'},children:[\"$\",amount.toFixed(2)]}):/*#__PURE__*/_jsx(Fragment,{}),checkoutButton()]})]})})})]})});};var mapStateToProps=function mapStateToProps(state){return{isAuthenticated:state.auth.isAuthenticated,items:state.cart.items,amount:state.cart.amount,compare_amount:state.cart.compare_amount,total_items:state.cart.total_items};};export default connect(mapStateToProps,{remove_item:remove_item,update_item:update_item,get_items:get_items,get_item_total:get_item_total,get_total:get_total,setAlert:setAlert})(Cart);","map":{"version":3,"sources":["/Users/dmuino/shop_time/src/containers/Cart.js"],"names":["React","Fragment","useState","useEffect","Link","connect","setAlert","remove_item","update_item","get_items","get_item_total","get_total","CartItem","Cart","isAuthenticated","items","amount","compare_amount","total_items","render","setRender","window","scrollTo","showItems","undefined","length","map","item","index","count","checkoutButton","width","fontSize","textDecoration","toFixed","color","mapStateToProps","state","auth","cart"],"mappings":"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","sourcesContent":["import React, { Fragment, useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { setAlert } from '../actions/alert';\nimport {\n    remove_item,\n    update_item,\n    get_items,\n    get_item_total,\n    get_total\n} from '../actions/cart';\nimport CartItem from '../components/CartItem';\n\nconst Cart = ({\n    isAuthenticated,\n    items,\n    amount,\n    compare_amount,\n    total_items,\n    remove_item,\n    update_item,\n    get_items,\n    get_item_total,\n    get_total\n}) => {\n    const [render, setRender] = useState(false);\n\n    useEffect(() => {\n        window.scrollTo(0, 0);\n\n        get_items();\n        get_item_total();\n        get_total();\n    }, [render]);\n\n    const showItems = () => {\n        return (\n            <div>\n                <h4 className='text-muted mt-3'>\n                    Your cart has {total_items} item(s)\n                </h4>\n                <hr />\n                {\n                    items && \n                    items !== null && \n                    items !== undefined && \n                    items.length !== 0 && \n                    items.map((item, index) => {\n                        let count = item.count;\n\n                        return (\n                            <div key={index}>\n                                <CartItem\n                                    item={item}\n                                    count={count}\n                                    update_item={update_item}\n                                    remove_item={remove_item}\n                                    setAlert={setAlert}\n                                    render={render}\n                                    setRender={setRender}\n                                />\n                            </div>\n                        );\n                    })\n                }\n            </div>\n        );\n    };\n\n    const checkoutButton = () => {\n        if (total_items < 1) {\n            return (\n                <Link \n                    className='btn btn-warning mt-5'\n                    style={{ width: '100%' }}\n                    to='/shop'\n                >\n                    Shop for some Items!\n                </Link>\n            );\n        }\n        else if (!isAuthenticated) {\n            return (\n                <Link \n                    className='btn btn-warning mt-5'\n                    style={{ width: '100%' }}\n                    to='/login'\n                >\n                    Login to proceed\n                </Link>\n            );\n        }\n        else {\n            return (\n                <Link \n                    className='btn btn-success mt-5'\n                    style={{ width: '100%' }}\n                    to='/checkout'\n                >\n                    Proceed to Checkout\n                </Link>\n            );\n        }\n    };\n\n    return (\n        <div className='container mt-5'>\n            <div className='row'>\n                <div className='col-8'>\n                    <h2>Your Items:</h2>\n                    {showItems()}\n                </div>\n                <div className='col-4'>\n                    <div className='card'>\n                        <div className='card-body'>\n                            <h2>Your total:</h2>\n                            <p style={{ fontSize: '24px' }}>\n                                {\n                                    compare_amount !== 0 ? (\n                                        <span\n                                            className='mr-3 text-muted'\n                                            style={{\n                                                textDecoration: 'line-through'\n                                            }}\n                                        >\n                                            ${compare_amount.toFixed(2)}\n                                        </span>\n                                    ) : (\n                                        <Fragment></Fragment>\n                                    )\n                                }\n                                {\n                                    amount !== 0 ? (\n                                        <span\n                                            style={{\n                                                color: '#b12704'\n                                            }}\n                                        >\n                                            ${amount.toFixed(2)}\n                                        </span>\n                                    ) : (\n                                        <Fragment></Fragment>\n                                    )\n                                }\n                                {checkoutButton()}\n                            </p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nconst mapStateToProps = state => ({\n    isAuthenticated: state.auth.isAuthenticated,\n    items: state.cart.items,\n    amount: state.cart.amount,\n    compare_amount: state.cart.compare_amount,\n    total_items: state.cart.total_items\n});\n\nexport default connect(mapStateToProps, {\n    remove_item,\n    update_item,\n    get_items,\n    get_item_total,\n    get_total,\n    setAlert\n})(Cart);\n"]},"metadata":{},"sourceType":"module"}
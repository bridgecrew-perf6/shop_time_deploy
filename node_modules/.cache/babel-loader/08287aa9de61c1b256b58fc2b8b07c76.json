{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"/Users/dmuino/shop_time/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Redirect}from'react-router-dom';import{connect}from'react-redux';import{check_authenticated,load_user,refresh}from'../actions/auth';import{get_items,get_total,get_item_total}from'../actions/cart';import{get_wishlist_items,get_wishlist_item_total}from'../actions/wishlist';import{get_user_profile}from'../actions/profile';import Navbar from'../components/Navbar';var Layout=function Layout(_ref){var check_authenticated=_ref.check_authenticated,load_user=_ref.load_user,get_user_profile=_ref.get_user_profile,refresh=_ref.refresh,get_items=_ref.get_items,get_total=_ref.get_total,get_item_total=_ref.get_item_total,get_wishlist_items=_ref.get_wishlist_items,get_wishlist_item_total=_ref.get_wishlist_item_total,children=_ref.children;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),searchRedirect=_useState2[0],setSearchRedirect=_useState2[1];useEffect(function(){refresh();check_authenticated();load_user();get_user_profile();get_items();get_total();get_item_total();get_wishlist_items();get_wishlist_item_total();},[]);if(searchRedirect){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navbar,{setSearchRedirect:setSearchRedirect}),/*#__PURE__*/_jsx(Redirect,{to:\"/search\"})]});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navbar,{setSearchRedirect:setSearchRedirect}),children]});};export default connect(null,{check_authenticated:check_authenticated,load_user:load_user,get_user_profile:get_user_profile,refresh:refresh,get_items:get_items,get_total:get_total,get_item_total:get_item_total,get_wishlist_items:get_wishlist_items,get_wishlist_item_total:get_wishlist_item_total})(Layout);","map":{"version":3,"sources":["/Users/dmuino/shop_time/src/hocs/Layout.js"],"names":["React","useState","useEffect","Redirect","connect","check_authenticated","load_user","refresh","get_items","get_total","get_item_total","get_wishlist_items","get_wishlist_item_total","get_user_profile","Navbar","Layout","children","searchRedirect","setSearchRedirect"],"mappings":"sOAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,QAAT,KAAyB,kBAAzB,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OACIC,mBADJ,CAEIC,SAFJ,CAGIC,OAHJ,KAIO,iBAJP,CAKA,OACIC,SADJ,CAEIC,SAFJ,CAGIC,cAHJ,KAIO,iBAJP,CAKA,OACIC,kBADJ,CAEIC,uBAFJ,KAGO,qBAHP,CAIA,OACIC,gBADJ,KAEO,oBAFP,CAGA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CAEA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,MAWT,IAVFV,CAAAA,mBAUE,MAVFA,mBAUE,CATFC,SASE,MATFA,SASE,CARFO,gBAQE,MARFA,gBAQE,CAPFN,OAOE,MAPFA,OAOE,CANFC,SAME,MANFA,SAME,CALFC,SAKE,MALFA,SAKE,CAJFC,cAIE,MAJFA,cAIE,CAHFC,kBAGE,MAHFA,kBAGE,CAFFC,uBAEE,MAFFA,uBAEE,CADFI,QACE,MADFA,QACE,eAC0Cf,QAAQ,CAAC,KAAD,CADlD,wCACKgB,cADL,eACqBC,iBADrB,eAGFhB,SAAS,CAAC,UAAM,CACZK,OAAO,GACPF,mBAAmB,GACnBC,SAAS,GACTO,gBAAgB,GAChBL,SAAS,GACTC,SAAS,GACTC,cAAc,GACdC,kBAAkB,GAClBC,uBAAuB,GAC1B,CAVQ,CAUN,EAVM,CAAT,CAYA,GAAIK,cAAJ,CAAoB,CAChB,mBACI,oCACI,KAAC,MAAD,EACI,iBAAiB,CAAEC,iBADvB,EADJ,cAII,KAAC,QAAD,EAAU,EAAE,CAAC,SAAb,EAJJ,GADJ,CAQH,CAED,mBACI,oCACI,KAAC,MAAD,EACI,iBAAiB,CAAEA,iBADvB,EADJ,CAIKF,QAJL,GADJ,CAQH,CA7CD,CA+CA,cAAeZ,CAAAA,OAAO,CAAC,IAAD,CAAO,CACzBC,mBAAmB,CAAnBA,mBADyB,CAEzBC,SAAS,CAATA,SAFyB,CAGzBO,gBAAgB,CAAhBA,gBAHyB,CAIzBN,OAAO,CAAPA,OAJyB,CAKzBC,SAAS,CAATA,SALyB,CAMzBC,SAAS,CAATA,SANyB,CAOzBC,cAAc,CAAdA,cAPyB,CAQzBC,kBAAkB,CAAlBA,kBARyB,CASzBC,uBAAuB,CAAvBA,uBATyB,CAAP,CAAP,CAUZG,MAVY,CAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { \n    check_authenticated, \n    load_user, \n    refresh \n} from '../actions/auth';\nimport {\n    get_items,\n    get_total,\n    get_item_total\n} from '../actions/cart';\nimport {\n    get_wishlist_items,\n    get_wishlist_item_total,\n} from '../actions/wishlist';\nimport {\n    get_user_profile,\n} from '../actions/profile';\nimport Navbar from '../components/Navbar';\n\nconst Layout = ({ \n    check_authenticated,\n    load_user,\n    get_user_profile,\n    refresh,\n    get_items,\n    get_total,\n    get_item_total,\n    get_wishlist_items,\n    get_wishlist_item_total,\n    children\n}) => {\n    const [searchRedirect, setSearchRedirect] = useState(false);\n\n    useEffect(() => {\n        refresh();\n        check_authenticated();\n        load_user();\n        get_user_profile();\n        get_items();\n        get_total();\n        get_item_total();\n        get_wishlist_items();\n        get_wishlist_item_total();\n    }, []);\n\n    if (searchRedirect) {\n        return (\n            <div>\n                <Navbar\n                    setSearchRedirect={setSearchRedirect}\n                />\n                <Redirect to='/search' />\n            </div>\n        );\n    }\n\n    return (\n        <div>\n            <Navbar\n                setSearchRedirect={setSearchRedirect}\n            />\n            {children}\n        </div>\n    );\n}\n\nexport default connect(null, {\n    check_authenticated,\n    load_user,\n    get_user_profile,\n    refresh,\n    get_items,\n    get_total,\n    get_item_total,\n    get_wishlist_items,\n    get_wishlist_item_total,\n})(Layout);\n"]},"metadata":{},"sourceType":"module"}
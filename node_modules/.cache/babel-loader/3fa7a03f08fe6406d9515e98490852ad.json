{"ast":null,"code":"import _regeneratorRuntime from\"/Users/dmuino/shop_time/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/dmuino/shop_time/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from'axios';import{GET_ORDERS_SUCCESS,GET_ORDERS_FAIL,GET_ORDER_DETAIL_SUCCESS,GET_ORDER_DETAIL_FAIL}from'./types';export var list_orders=function list_orders(){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var config,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!localStorage.getItem('access')){_context.next=12;break;}config={headers:{'Accept':'application/json','Authorization':\"JWT \".concat(localStorage.getItem('access'))}};_context.prev=2;_context.next=5;return axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"/api/order/get-orders\"),config);case 5:res=_context.sent;if(res.status===200){dispatch({type:GET_ORDERS_SUCCESS,payload:res.data});}else{dispatch({type:GET_ORDERS_FAIL});}_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](2);dispatch({type:GET_ORDERS_FAIL});case 12:case\"end\":return _context.stop();}}},_callee,null,[[2,9]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export var get_order_detail=function get_order_detail(transactionId){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var config,res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!localStorage.getItem('access')){_context2.next=12;break;}config={headers:{'Accept':'application/json','Authorization':\"JWT \".concat(localStorage.getItem('access'))}};_context2.prev=2;_context2.next=5;return axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"/api/order/get-order/\").concat(transactionId),config);case 5:res=_context2.sent;if(res.status===200){dispatch({type:GET_ORDER_DETAIL_SUCCESS,payload:res.data});}else{dispatch({type:GET_ORDER_DETAIL_FAIL});}_context2.next=12;break;case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](2);dispatch({type:GET_ORDER_DETAIL_FAIL});case 12:case\"end\":return _context2.stop();}}},_callee2,null,[[2,9]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};","map":{"version":3,"sources":["/Users/dmuino/shop_time/src/actions/orders.js"],"names":["axios","GET_ORDERS_SUCCESS","GET_ORDERS_FAIL","GET_ORDER_DETAIL_SUCCESS","GET_ORDER_DETAIL_FAIL","list_orders","dispatch","localStorage","getItem","config","headers","get","process","env","REACT_APP_API_URL","res","status","type","payload","data","get_order_detail","transactionId"],"mappings":"yRAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OACIC,kBADJ,CAEIC,eAFJ,CAGIC,wBAHJ,CAIIC,qBAJJ,KAKO,SALP,CAOA,MAAO,IAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,kGAAM,iBAAMC,QAAN,qIACzBC,YAAY,CAACC,OAAb,CAAqB,QAArB,CADyB,0BAEnBC,MAFmB,CAEV,CACXC,OAAO,CAAE,CACL,SAAU,kBADL,CAEL,8BAAwBH,YAAY,CAACC,OAAb,CAAqB,QAArB,CAAxB,CAFK,CADE,CAFU,uCAUHR,CAAAA,KAAK,CAACW,GAAN,WAAaC,OAAO,CAACC,GAAR,CAAYC,iBAAzB,0BAAmEL,MAAnE,CAVG,QAUfM,GAVe,eAYrB,GAAIA,GAAG,CAACC,MAAJ,GAAe,GAAnB,CAAwB,CACpBV,QAAQ,CAAC,CACLW,IAAI,CAAEhB,kBADD,CAELiB,OAAO,CAAEH,GAAG,CAACI,IAFR,CAAD,CAAR,CAIH,CALD,IAKO,CACHb,QAAQ,CAAC,CACLW,IAAI,CAAEf,eADD,CAAD,CAAR,CAGH,CArBoB,+EAuBrBI,QAAQ,CAAC,CACLW,IAAI,CAAEf,eADD,CAAD,CAAR,CAvBqB,oEAAN,gEAApB,CA8BP,MAAO,IAAMkB,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAAAC,aAAa,kGAAI,kBAAMf,QAAN,yIACzCC,YAAY,CAACC,OAAb,CAAqB,QAArB,CADyC,2BAEnCC,MAFmC,CAE1B,CACXC,OAAO,CAAE,CACL,SAAU,kBADL,CAEL,8BAAwBH,YAAY,CAACC,OAAb,CAAqB,QAArB,CAAxB,CAFK,CADE,CAF0B,yCAUnBR,CAAAA,KAAK,CAACW,GAAN,WAAaC,OAAO,CAACC,GAAR,CAAYC,iBAAzB,iCAAkEO,aAAlE,EAAmFZ,MAAnF,CAVmB,QAU/BM,GAV+B,gBAYrC,GAAIA,GAAG,CAACC,MAAJ,GAAe,GAAnB,CAAwB,CACpBV,QAAQ,CAAC,CACLW,IAAI,CAAEd,wBADD,CAELe,OAAO,CAAEH,GAAG,CAACI,IAFR,CAAD,CAAR,CAIH,CALD,IAKO,CACHb,QAAQ,CAAC,CACLW,IAAI,CAAEb,qBADD,CAAD,CAAR,CAGH,CArBoC,mFAuBrCE,QAAQ,CAAC,CACLW,IAAI,CAAEb,qBADD,CAAD,CAAR,CAvBqC,sEAAJ,kEAAtC","sourcesContent":["import axios from 'axios';\nimport {\n    GET_ORDERS_SUCCESS,\n    GET_ORDERS_FAIL,\n    GET_ORDER_DETAIL_SUCCESS,\n    GET_ORDER_DETAIL_FAIL\n} from './types';\n\nexport const list_orders = () => async dispatch => {\n    if (localStorage.getItem('access')) {\n        const config = {\n            headers: {\n                'Accept': 'application/json',\n                'Authorization': `JWT ${localStorage.getItem('access')}`\n            }\n        };\n\n        try {\n            const res = await axios.get(`${process.env.REACT_APP_API_URL}/api/order/get-orders`, config);\n\n            if (res.status === 200) {\n                dispatch({\n                    type: GET_ORDERS_SUCCESS,\n                    payload: res.data\n                });\n            } else {\n                dispatch({\n                    type: GET_ORDERS_FAIL\n                });\n            }\n        } catch(err) {\n            dispatch({\n                type: GET_ORDERS_FAIL\n            });\n        }\n    }\n};\n\nexport const get_order_detail = transactionId => async dispatch => {\n    if (localStorage.getItem('access')) {\n        const config = {\n            headers: {\n                'Accept': 'application/json',\n                'Authorization': `JWT ${localStorage.getItem('access')}`\n            }\n        };\n\n        try {\n            const res = await axios.get(`${process.env.REACT_APP_API_URL}/api/order/get-order/${transactionId}`, config);\n\n            if (res.status === 200) {\n                dispatch({\n                    type: GET_ORDER_DETAIL_SUCCESS,\n                    payload: res.data\n                });\n            } else {\n                dispatch({\n                    type: GET_ORDER_DETAIL_FAIL\n                });\n            }\n        } catch(err) {\n            dispatch({\n                type: GET_ORDER_DETAIL_FAIL\n            });\n        }\n    }\n};\n"]},"metadata":{},"sourceType":"module"}